\chapter{System Overview}
\label{chapter:SystemOverview}

The purpose of this chapter is to provide you with an overview of the
\emph{Insight Toolkit} system. 

\section{System Organization}
\label{sec:SystemOrganization}

The Insight Toolkit consists of several subsystems. A brief
description of these subsystems follows. Later sections in this chapter
cover these concepts in more detail. 

\begin{description}
	\item[Essential System Objects.] Like any software system, ITK is
        built around some core design features. Some of the more important
        features include smart pointers for memory management, object factories
        for adaptable object instantiation, event management using the 
        command/observer design paradigm, and multithreading support.

	\item[Data Representation and Access.]  Two principle classes are
        used to represent data: the Image and Mesh classes. In addition,
        various types of iterators and containers are used to hold and
        traverse the data.

	\item[Numerics] ITK uses VXL's VNL numerics libraries. These are
        easy-to-use C++ wrappers around the Netlib Fortran numerical 
        analysis routines (\url{http://www.netlib.org}).

	\item[Data Processing Pipeline.]  The data representation classes are
        operated on by \emph{filters} that in turn may be organized into data
        flow pipelines. These pipelines maintain state and therefore execute
        only when necessary, support multi-threading sources, and are streaming
        capable (i.e., can operate on pieces of data to minimize the
        memory footprint).

	\item[Registration Framework.] A flexible framework for registration
        supports four different types of registration: image registration,
        multiresolution registration, PDE based registration, and FEM (finite-
        element, i.e., deformable) registration.

	\item[FEM Framework.] ITK includes a subsystem for solving general
        FEM problems, in particular non-rigid registration. The FEM package
        includes mesh definition (nodes and elements), loads, and boundary
        conditions.

	\item[Spatial Objects.]

	\item[Level Set Framework.]

	\item[Wrapping.]

	\item[Auxiliary / Utilities] Several
        
	calculators (non-data flow oriented)

\end{description}


\section{Essential System Objects}
\label{sec:EssentialSystemObjects}

	multithreading, smart pointers, object factories, system includes,
	command/observers/events

\section{Data Representation and Access}
\label{sec:DataRepresentationAndAccess}

	mesh, image, iterators, various containers

\section{Numerics}
\label{sec:Numerics}

The numerics library, \code{vnl} is intended to provide an environment for numerical
programming which combines the ease of use of packages like Mathematica and
Matlab with the speed of C and the elegance of C++. It provides a C++
interface to the high-quality Fortran routines made available in the public
domain by numerical analysis researchers.

This release includes classes for 

Matrices and vectors. The library is based on the old TargetJr/IUE classes, which provide the standard operations without excessive overhead. 

Specialized classes for matrices and vectors with particular properties. Class \code{vnl\_diagonal\_matrix} provides a fast and convenient diagonal matrix, while fixed size matrices and vectors allow "fast-as-C" computations (see \code{vnl\_matrix\_fixed<T,n,m>} and example subclasses \code{vnl\_double\_3x3} and \code{vnl\_double\_3}). 

Matrix decompositions. Classes \code{vnl\_svd<T>}, \code{vnl\_symmetric\_eigensystem<T>} , \code{vnl\_generalized\_eigensystem}. 

Real polynomials. Class \code{vnl\_real\_polynomial} stores the coefficients of a real polynomial, and provides methods of evaluation of the polynomial at any x, while class \code{vnl\_rpoly\_roots} provides a root finder. 

Optimization. Classes \code{vnl\_levenberg\_marquardt}, \code{vnl\_amoeba}, \code{vnl\_lbfgs}, \code{vnl\_conjugate\_gradient} allow optimization of user-supplied functions either with or without user-supplied derivatives. 

Standardized homes for commonly used functions and constants. Class \code{vnl\_math} defines constants (pi, e, eps...) and simple functions (sqr, abs, rnd...). To quote the header "That's right, M\_PI is nonstandard!" Class numeric\_limits is from the ISO standard document, and provides a way to access basic limits of a type. E.g. numeric\_limits<short>::max() returns the maximum value of a short. 
Most routines are implemented as wrappers around the high-quality Fortran routines which have been developed by the numerical analysis community over the last forty years and placed in the public domain. The central repository for these programs is the "netlib" server http://www.netlib.org/. The National Institute of Standards and Technology (NIST) provides an excellent search interface to this repository in its Guide to Available Mathematical Software (GAMS) at \url{http://gams.nist.gov}, both as a decision tree and a text search. 

blah blah

\section{Data Processing Pipeline}
\label{sec:DataProcessingPipeline}

filters, mappers, update

\section{Registration Framework}
\label{sec:RegistrationFramework}

blah blah

\section{FEM Framework}
\label{sec:FEMFramework}

blah blah

\section{Spatial Objects}
\label{sec:SpatialObjects}

blah blah

\section{Level Set Framework}
\label{sec:LevelSetFramework}

blah blah

\section{Wrapping}
\label{sec:Wrapping}

blah blah

\section{Auxiliary \& Utilities}
\label{sec:Auxiliary}
\label{sec:Utilities}

calculators and classes supporting the data processing pipeline;
utilities such as GUI interface tools

