
\chapter{DataRepresentation}
\label{sec:DataRepresentation}


This chapter introduces the basic classes responsible
for representing data in ITK. The most common classes are the
\doxygen{Image}, the \doxygen{Mesh} and the \doxygen{PointSet}.

\section{Image}
\label{sec:ImageSection}

The \doxygen{Image} class follows the spirit of 
\href{http://www.boost.org/more/generic_programming.html}{Generic Programming}, 
where types are separated from the algorithmic behavior of the class.  ITK supports images
with any pixel type and any spatial dimension.

\subsection{Creating an Image}\label{sec:CreatingAnImageSection}


\input{Image1.tex}

In practice it is rare to allocate and initialize an image directly.
Images are typically read from a source, such a file or data acquisition
hardware. The following example illustrates how an image can be read from
a file.




\subsection{Reading an Image from a File}
\label{sec:ReadingImageFromFile}

\input{Image2.tex}





\subsection{Accessing Pixel Data}
\label{sec:AccessingImagePixelData}

\input{Image3.tex}




\subsection{Defining Origin and Spacing}
\label{sec:DefiningImageOriginAndSpacing}

\input{Image4.tex}


\subsection{RGB Images}

 RGB is a representation a human physiological capability to
analyze visual light using three sprectral
sensors~\cite{Malacara2002,Wyszecki2000}.  The RGB space is not a vector space.
For example, negative numbers are not appropriate in a color space because they
will be the equivalent of 'negative stimulation' on the human eye. People in
colorimetry use negative color values as an artificial construct for color
comparision in the sense that

         ColorA = ColorB - ColorC

just as a way of saying that they can produce ColorB by combining ColorA and
ColorB.  But they are aware that (at least in emitted light) it is not possible
to \emph{substract light}. So when we say

         ColorA = ColorB - ColorC

we actually mean

         ColorB = ColorA + ColorC

On the other hand, when dealing with printed color and with paint
(as opposed to emmitted light like in computer screens) the physical
behavior of color allows for subtraction, because strictly speaking
the objects that you see as red are those that absorb all light
frequencies except those in the red section of the spectrum.

The concept of addition and subtraction of colors has to be carefully
interpreted. In fact, RGB has a different definition regarding you are talking
about the channels associated to the three color sensors of the human eye, or
to the three phosphors found in most computer screeens or to the color inks
that are used for printing reproduction.  Color spaces are usually non linear
and do not even from a group~\cite{Wyszecki2000}.

The \doxygen{RGBPixel} type, embodies a different concept from the ones of
\doxygen{Vectors} in space.

When you anticipate to perform the operation of "Mean" on a RGB type
you are assuming that in the color space provides the action of finding
a color "in the middle" of two colors, can be found by using a linear
operation between their numerical representation. This is unfortunately
not the case in  color spaces due to the fact that they are based on
human perception.

\label{sec:DefiningRGBImages}
\input{RGBImage.tex}


\subsection{Vector Images}
\label{sec:DefiningVectorImages}

\input{VectorImage.tex}


\subsection{Importing Image Data from a Buffer}
\label{sec:ImportingImageDataFromABuffer}
\input{Image5.tex}



\section{PointSet}
\label{PointSetSection}

\subsection{Creating a PointSet}
\label{sec:CreatingAPointSet}

\input{PointSet1.tex}



\subsection{Getting Access to Points}
\label{sec:GettingAccessToPointsInThePointSet}

\input{PointSet2.tex}



\subsection{Getting Access to Data in Points}
\label{sec:GettingAccessToDataInThePointSet}

\input{PointSet3.tex}



\subsection{RGB as Pixel Type}
\label{sec:PointSetWithRGBAsPixelType}

\input{RGBPointSet.tex}




\subsection{Vectors as Pixel Type}
\label{sec:PointSetWithVectorsAsPixelType}

\input{PointSetWithVectors.tex}



\subsection{Normals as Pixel Type}
\label{sec:PointSetWithCovariantVectorsAsPixelType}

\input{PointSetWithCovariantVectors.tex}




\section{Mesh}\label{MeshSection}

\subsection{Creating a Mesh}
\label{sec:CreatingAMesh}

\input{Mesh1.tex}


\subsection{Inserting Cells}
\label{sec:InsertingCellsInMesh}

\input{Mesh2.tex}


\subsection{Managing Data in Cells}
\label{sec:ManagingCellDataInMesh}

\input{Mesh3.tex}


\subsection{Customizing the Mesh}
\label{sec:CustomizingTheMesh}

\input{MeshTraits.tex}


\subsection{Topology and the K-Complex}
\label{sec:MeshKComplex}

\input{MeshKComplex.tex}


\subsection{Representing a PolyLine}
\label{sec:MeshPolyLine}

\input{MeshPolyLine.tex}


\subsection{Simplifying Mesh Creation}
\label{sec:AutomaticMesh}

\input{AutomaticMesh.tex}


\subsection{Iterating Through Cells}
\label{sec:MeshCellsIteration}

\input{MeshCellsIteration.tex}


\subsection{Visiting Cells}
\label{sec:MeshCellVisitor}

\input{MeshCellVisitor.tex}


\subsection{More on Visiting Cells}
\label{sec:MeshCellVisitorMultipleType}

\input{MeshCellVisitor2.tex}




\section{Path}\label{PathSection}

\subsection{Creating a PolyLineParametricPath}
\label{sec:CreatingAPolyLineParametricPath}

\input{PolyLineParametricPath1.tex}

\section{Containers}\label{ContainersSection}
\label{sec:TreeContainer}
\input{TreeContainer.tex}
